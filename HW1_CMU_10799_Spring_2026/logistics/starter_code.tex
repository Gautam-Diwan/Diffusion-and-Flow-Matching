
\hwpart{0}{Setup your codebase (0 point)}
First let's get started and setup your environments and codebase by forking and cloning the startup code repository: \url{https://github.com/KellyYutongHe/cmu-10799-diffusion}.
\begin{hwcode}{bash}
git clone https://github.com/KellyYutongHe/cmu-10799-diffusion.git
cd cmu-10799-diffusion

# Run setup script (auto-detects your hardware)
./setup-uv.sh    # Recommended (faster)

# Activate environment
source .venv-*/bin/activate
\end{hwcode}
\vspace{1em}
\noindent\textbf{\textcolor{cmured}{What You'll Implement:}}
\vspace{0.6em}

\begin{tcolorbox}[
    colback=cmulight,
    colframe=cmugray,
    boxrule=0.5pt,
    arc=2pt,
    left=8pt,
    right=8pt,
    top=6pt,
    bottom=6pt
]
    \centering
    \renewcommand{\arraystretch}{1.2}
    \begin{tabular}{ll}
    \toprule
    \textbf{File} & \textbf{What to implement} \\
    \midrule
    \texttt{src/data/celeba.py} & Data preprocessing transforms \\
    \texttt{src/methods/ddpm.py} & Full DDPM algorithm \\
    \texttt{src/models/unet.py} & U-Net architecture using provided blocks \\
    \texttt{configs/} & Create your own model configs \\
    \texttt{train.py} & Add sampling for logging \\
    \texttt{sample.py} & Add your sampling scheme \\
    \bottomrule
    \end{tabular}
\end{tcolorbox}

\vspace{1em}
\noindent\textbf{\textcolor{cmured}{What We Provide:}}
\vspace{0.6em}

\begin{itemize}[leftmargin=*]
    \item \textbf{U-Net~\citep{ronneberger2015u} building blocks} (\texttt{blocks.py}): ResBlock, AttentionBlock, SinusoidalPositionEmbedding, Downsample, Upsample, etc
    \item \textbf{Training infrastructure}: Mixed precision, gradient clipping, checkpointing, logging
    \item \textbf{EMA}: Exponential moving average for stable sampling
    \item \textbf{Evaluation}: KID computation via torch-fidelity~\citep{obukhov2020torchfidelity}
    \item \textbf{Modal integration}: Cloud GPU training for those without local GPUs
    \item \textbf{Notebooks}: Skeleton notebook for exploration
    \item \textbf{Scripts}: Example scripts to run your training and evaluation jobs on a slurm cluster or on Modal
\end{itemize}

\vspace{1em}
\noindent\textbf{\textcolor{cmured}{Compute Budget:}}
\vspace{0.6em}

You have \textbf{\$500 in \href{https://modal.com/}{Modal} credits} for the entire course (all 4 homework). Budget wisely!
